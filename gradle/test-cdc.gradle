sourceSets {
    contractTest {
        java {
            compileClasspath += main.output + test.output
            runtimeClasspath += main.output + test.output
            srcDir file('src/test-cdc/java')
        }
        resources.srcDir file('src/test-cdc/resources')
    }
}

configurations {
    contractTestCompile.extendsFrom implementation
    contractTestRuntime.extendsFrom runtime
}

idea {
    module {
        testSourceDirs   += project.sourceSets.contractTest.java.srcDirs
        testResourceDirs += project.sourceSets.contractTest.resources.srcDirs
    }
}
